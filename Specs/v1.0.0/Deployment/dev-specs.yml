#########################
# Deployment Type Specs #
#########################
# Choose 'Docker' for Container Deployment
# Choose 'Kubernetes' for EKS Deployment
# Choose 'Jar' for Java Jar File Deployment
DeploymentType: 'Kubernetes'
isDeploymentRequired: true


####################
# Deployment Image#
####################
Deploy:
    # Path to deployment yml file 
    deployymlpath: "Specs/v1.0.0/Deployment/kubernetes-dev"

    
####################
# Deployment Image#
####################
# IF this spec is not present and deployment validation failed, rollback will not happen and job will failed. 
# This image will be used in rollback if deployment validation failed. 
RollbackImage: "artifactory.tfs.toyota.com:443/devops-docker-dev-local/python:161"

###########################
# Deployment Server Specs #
###########################
DeploymentServer:
    # deplymnet EKS name 
    name: "awva-dclkn03224"
    # deplymnet EKS host id 
    host: "awva-dclkn03224"
    #credentialsId: "DockerMasterCreds"
    
    # If value is true credentialsId will be pulled from Vault, 
    # after stage Completion credential will be deleted from Jenkins,
    # if value is false then credentialsId will be pulled from jenkins credentials 
    # if the credentialsId is not present job will fail. 

    IsPullFromVaultRequired: true

    # credential id to be used 
    credentialsId: jees91dapp
    
    allowAnyHosts: true
    
     isSudoRequired: true

    # If ssh requred to remote host
    isSshRequired: true

####################
# Kubernetes Specs #
####################
#This set will come if chosen deployment option is Kubernetes.
Kubernetes:
    # Kubernetes namespace to deploy 
    namespace: k8s-dev-jees91-b8b4

    # Kubernetes namespace to deploy 
    deploymentName: python-app
    
    # Kubernetes application name  
    appName: python-app


    # Kubernetes Service name
    serviceName: lb-python-app

    # Path to service yml 
    serviceDeployFilePath: 'Specs/v1.0.0/Deployment/kubernetes-dev/deploy-service.yml'

    # Path to deployment yml 
    appDeployFilePath: 'Specs/v1.0.0/Deployment/kubernetes-dev/deploy-app.yml'
    
#######################
# Smoke Testing Specs #
#######################
SmokeTesting:
    # Use LB url or application url. After deployment this url will accessed to validate deployment. 
    # It will check 200 responce is received form endpointURL, If responce is not recived from endpointURL post deploymnet 
    # validation will be marked as failed and it will invoke Rollback process. 
    # If endpoint url is blank then post deployment validation and also in case failure rollback will be skipped.
    endpointURL: 
    #endpointURL: "internal-a41c60708034547e79b64b7d09db84b2-1554736038.us-east-1.elb.amazonaws.com"
    #endpointURL: 
    # sleep time before test start or wait for pod to up and running 
    sleepTimeInSeconds: 30

